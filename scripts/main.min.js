"use strict";$(function(){$(".ui.checkbox").checkbox()});var maxWidth=1e3;$(function(){var e=new fabric.Canvas("canvas"),t=$("#download"),n=($("#text"),$("#stroke-color")),o=$("#fill-color"),a=null,i=$("input[type=file]"),r=$("#font-families"),l=$("#font-family"),c=$("#bold"),s=$("#italic");$(document).on("dragover",function(e){e.preventDefault()}).on("drop",function(e){e.preventDefault(),h(e.originalEvent.dataTransfer.files[0])}),i.on("change",function(e){h(e.target.files[0])}),t.on("click",function(){e.deactivateAll().renderAll(),t.attr("href",e.getElement().toDataURL())}),n.on("change",function(){a&&(a.setStroke(n.val()),e.renderAll())}),o.on("change",function(){a&&(a.setFill(o.val()),e.renderAll())}),r.on("change",function(){l.val(r.val()),a&&(a.setFontFamily(r.val()),e.renderAll())}),l.on("change",function(){a&&(a.setFontFamily(l.val()),e.renderAll())}),c.on("change",function(){a&&(a.setFontWeight(c.is(":checked")?"bold":null),e.renderAll())}),s.on("change",function(){a&&(a.setFontStyle(s.is(":checked")?"italic":null),e.renderAll())});var h=function(n){if(n){var o=$(".l-canvas-contents"),i=o.width(),r=o.height(),l=new FileReader;l.onload=function(t){var n=new Image;n.onload=function(){var t=new fabric.Image(n);t.set({selectable:!1});var o=t.width/t.height,l=Math.min(n.width,i),h=l/o;h>r&&(l=n.width*(r/n.height),h=r),t.set({hasBorders:!1,hasControls:!1,hasRotatingPoint:!1,selectable:!1,width:l,height:h}),e.setWidth(t.width),e.setHeight(t.height),a=new fabric.Text("LGTM"),a.set({selectable:!0,fontSize:64,fontFamily:"impact",stroke:"#000",strokeWidth:2,fill:"#fff",left:(t.width-a.width)/2,top:(t.height-a.height)/2,cornerSize:6,cornerColor:"#6699ff",transparentCorners:!1,fontWeight:c.is(":checked")?"bold":null,fontStyle:s.is(":checked")?"italic":null}),e.clear(),e.add(t),e.add(a)},console.log(t.target.result),n.src=t.target.result},l.readAsDataURL(n),t.attr("download","LGTM.png")}};e.clear(),h()}),/*!
               *
               *  Web Starter Kit
               *  Copyright 2015 Google Inc. All rights reserved.
               *
               *  Licensed under the Apache License, Version 2.0 (the "License");
               *  you may not use this file except in compliance with the License.
               *  You may obtain a copy of the License at
               *
               *    https://www.apache.org/licenses/LICENSE-2.0
               *
               *  Unless required by applicable law or agreed to in writing, software
               *  distributed under the License is distributed on an "AS IS" BASIS,
               *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
               *  See the License for the specific language governing permissions and
               *  limitations under the License
               *!!!!
               */
function(){var e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||e)&&navigator.serviceWorker.register("service-worker.js").then(function(e){"function"==typeof e.update&&e.update(),e.onupdatefound=function(){if(navigator.serviceWorker.controller){var t=e.installing;t.onstatechange=function(){switch(t.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(e){console.error("Error during service worker registration:",e)}),console.log("asf")}();
//# sourceMappingURL=main.min.js.map
